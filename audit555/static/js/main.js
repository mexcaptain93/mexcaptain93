function checklist(){var t=$(".js-checklist-slider"),l=$(".js-checklist-item"),i=$(".js-checklist-slider-current"),e=$(".js-checklist-slider-total"),s=t.find("> *").length,o=$(".js-checklist-slider-prev"),r=$(".js-checklist-slider-next"),n=$(".js-problems-slider");t.length&&$.fn.slick&&t.slick({arrows:!1,adaptiveHeight:!0}),s<10&&(s="0"+s),e.text(s),t.on("afterChange",function(e,s,t,l){n.removeClass("problems__list_visible"),n.eq(t).addClass("problems__list_visible"),n.each(function(e,s){$(s).hasClass("slick-initialized")&&$(s).slick("unslick")}),initProblemsSlider(n,t),t++<9&&(t="0"+t),i.text(t)}),o.on("click",function(e){e.preventDefault(),t.slick("slickPrev")}),r.on("click",function(e){e.preventDefault(),t.slick("slickNext")}),l.on("click",function(e){e.preventDefault(),l.removeClass("schema__item_active"),$(this).addClass("schema__item_active");var s=$(this).index();t.find(".slider__item").eq(s).length&&t.slick("slickGoTo",s)})}function problems(){var e=$(".js-problems-slider");e.eq(0).addClass("problems__list_visible"),$(window).on("resize",function(){$(window).width()<768?$(".problems__list_visible").hasClass("slick-initialized")||initProblemsSlider(e,$(".problems__list_visible").index()-1):$(".problems__list_visible.slick-initialized").length&&$(".problems__list_visible").slick("unslick")}),initProblemsSlider(e,0)}function initProblemsSlider(e,s){$(window).width()<768&&e.eq(s).length&&$.fn.slick&&e.eq(s).slick({arrows:!1,dots:!0,adaptiveHeight:!0})}function services(){var e=$(".js-services-list");e.length&&$.fn.slick&&e.slick({arrows:!1,dots:!0,adaptiveHeight:!0,slidesToScroll:3,slidesToShow:3,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2,adaptiveHeight:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})}function selects(){var e=$(".js-select");e.length&&$.fn.select2&&e.select2({width:"100%",minimumResultsForSearch:-1})}function steps(){var e=$(".js-steps-slider");function s(){e.length&&$.fn.slick&&!e.hasClass("slick-initialized")&&$(window).width()<1024&&e.slick({arrows:!1,dots:!1,slidesToShow:2,slidesToScroll:2,infinite:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})}s(),$(window).on("resize",function(){$(window).width()<1024?s():e.length&&e.hasClass("slick-initialized")&&e.slick("unslick")})}function reviews(){var s=$(".js-reviews-slider"),e=$(".js-reviews-prev"),t=$(".js-reviews-next");s.length&&$.fn.slick&&(s.slick({arrows:!1,dots:!1,slidesToScroll:1,slidesToShow:1,variableWidth:!0,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{dots:!0,variableWidth:!1}}]}),e.on("click",function(e){e.preventDefault(),s.slick("slickPrev")}),t.on("click",function(e){e.preventDefault(),s.slick("slickNext")}))}function map(){center={lat:64.544696,lng:40.51629066},$(window).width()<1024&&(center={lat:64.54464989,lng:40.51231119}),$(window).width()<768&&(center={lat:64.54564989,lng:40.51629066});var e=new google.maps.Map(document.getElementById("map"),{center:center,zoom:16,disableDefaultUI:!0,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]});new google.maps.Marker({position:{lat:64.544696,lng:40.51629066},map:e,title:"Аудитавто",icon:{url:"static/img/general/pin.png",scaledSize:new google.maps.Size(63,90)}})}function popups(){var s=$(".js-popup-request"),e=$(".js-popup-request-close"),t=$(".js-popup-request-opener");s.length&&(t.on("click",function(e){e.preventDefault(),s.fadeIn(),$("body").addClass("stop-scroll")}),e.on("click",function(e){e.preventDefault(),s.fadeOut(),$("body").removeClass("stop-scroll")}),s.find(".popup__overlay").on("click",function(e){e.target===this&&(s.fadeOut(),$("body").removeClass("stop-scroll"))}));var l=$(".js-popup-request-ok"),i=$(".js-popup-request-ok-close");$(".js-popup-request-ok-opener");l.length&&(t.on("click",function(e){e.preventDefault(),s.fadeIn(),$("body").addClass("stop-scroll")}),i.on("click",function(e){e.preventDefault(),l.fadeOut(),$("body").removeClass("stop-scroll")}),l.find(".popup__overlay").on("click",function(e){e.target===this&&(l.fadeOut(),$("body").removeClass("stop-scroll"))}));var r=$(".js-popup-service"),o=$(".js-popup-service-close"),n=$(".js-popup-service-btn"),a=$(".js-service-popup-img"),c=$(".js-service-popup-title"),p=$(".js-service-popup-descr"),d=$(".js-service-popup-lastText"),f=$(".js-service-popup-price");o.on("click",function(e){e.preventDefault(),r.fadeOut(),$("body").removeClass("stop-scroll")}),r.find(".popup__overlay").on("click",function(e){e.target===this&&(r.fadeOut(),$("body").removeClass("stop-scroll"))}),n.on("click",function(e){if(e.preventDefault(),$(this).data("title"))var s=$(this).data("title");if($(this).data("descr"))var t=$(this).data("descr");if($(this).data("title"))var l=$(this).data("lastText");if($(this).data("img"))var i=$(this).data("img");if($(this).data("price"))var o=$(this).data("price");s&&t&&(r.fadeIn(),$("body").addClass("stop-scroll"),a.css("background-image",'url("'+i+'")'),c.html(s),p.html(t),d.html(l),f.html(o))});var u=$(".js-burger"),m=$(".js-menu");u.on("click",function(e){e.preventDefault(),m.toggle(),u.toggleClass("welcome__burger_opened"),$("body").toggleClass("stop-scroll")})}function forms(){var e=$("input.phone"),t=[];e.each(function(e,s){t[e]=IMask(s,{mask:"+{7} (000) 000-00-00"})}),$(".js-send").on("click",function(e){var s=$(this).parents(".form");s.find("input").removeClass("error"),e.preventDefault();var t=s.find('[name="name"]'),l=s.find('[name="phone"]'),i=s.find('[name="time"]');""===t.val()&&t.addClass("error"),18!==l.val().length&&l.addClass("error"),0===s.find(".error").length&&(s.hasClass("popup__form")&&$(".popup").fadeOut(),console.log(t,i,l),$(".js-popup-request-ok").fadeIn(),setTimeout(function(){$(".js-popup-request-ok").fadeOut(),$("body").removeClass("stop-scroll")},5e3))})}$(function(){checklist(),problems(),services(),selects(),steps(),reviews(),map(),popups(),forms()});